<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Julia Kwon</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="green-circle-favicon.svg">
    <link rel="alternate icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <!-- Custom Cursor -->
    <div class="cursor-dot" id="cursor-dot"></div>
    
    <!-- Vertical Grid Lines -->
    <div class="grid-lines" id="grid-lines">
        <!-- Grid lines will be created by JavaScript -->
    </div>

    <header>
        <a href="intro.html" class="logo" id="logo-link">Julia Kwon</a>
        <div class="nav-container">
            <div class="nav-left">
                <div class="nav-links">
                    <a href="/" id="works-link" data-section="works">Works</a>
                    <a href="#projects" id="projects-link" data-section="projects">Projects</a>
                </div>
            </div>
            <div class="nav-right">
                <div class="nav-links">
                    <a href="info.html">Info</a>
                    <a href="https://issuu.com/jisun.kwon/docs/issuu_portfolio" target="_blank">Design</a>
                </div>
            </div>
        </div>
        <a href="#" class="language-toggle">EN</a>
    </header>
    
    <!-- Gallery View (Home) -->
    <div class="gallery-container" id="gallery">
        <!-- Images will be added dynamically via JavaScript -->
    </div>
    
    <!-- Projects Index View -->
    <div class="project-container" id="projects-page" style="display: none;">
        <div class="projects-index">
            <div class="project-index-row">
                <div class="project-year">2024-2025</div>
                <div class="project-title">CAPSTONE</div>
                <div class="project-category">Prototyping</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2024</div>
                <div class="project-title">CAPSTONE_make</div>
                <div class="project-category">Prototyping</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2025</div>
                <div class="project-title">CAPSTONE_grow</div>
                <div class="project-category">Prototyping</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2025</div>
                <div class="project-title">CAPSTONE_test</div>
                <div class="project-category">Prototyping</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2024</div>
                <div class="project-title">Pre_Capstone</div>
                <div class="project-category">Narrative</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2024</div>
                <div class="project-title">DataViz</div>
                <div class="project-category">Visualization</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2025</div>
                <div class="project-title">EchoPULSE</div>
                <div class="project-category">Interactive</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2024</div>
                <div class="project-title">GIS</div>
                <div class="project-category">Mapping</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2025</div>
                <div class="project-title">LumenBeat</div>
                <div class="project-category">Installation</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2024</div>
                <div class="project-title">MetaTool</div>
                <div class="project-category">Medium</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2024</div>
                <div class="project-title">Photography</div>
                <div class="project-category">Images</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2024</div>
                <div class="project-title">RubeGoldberg</div>
                <div class="project-category">Installation</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2024</div>
                <div class="project-title">Zine</div>
                <div class="project-category">Collaboration</div>
            </div>
            <div class="project-index-row">
                <div class="project-year">2024</div>
                <div class="project-title">Unhampering</div>
                <div class="project-category">Speculative Design</div>
            </div>
        </div>
    </div>
    
    <!-- Project Detail View -->
    <div class="project-container" id="project-detail" style="display: none;">
        <div class="project-header">
            <h1 class="project-title" id="project-title-text">Project Title <span id="project-year">2023</span></h1>
            <div class="project-info">
                <h2>About the Project</h2>
                <p id="project-description">Project description will appear here.</p>
            </div>
        </div>
        
        <div id="project-images-container">
            <!-- Hero image/video and detail images will be added dynamically -->
        </div>
        
        <div id="project-videos-container">
            <!-- Additional videos will be added dynamically -->
        </div>
        
        <a href="/" class="back-to-gallery" id="back-button">Back to Gallery</a>
    </div>

    <script src="main.js"></script>
    <script>
        // Ensure proper navigation handling
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial state based on URL
            const hash = window.location.hash;
            if (hash === '#projects') {
                showProjectsPage();
            } else if (hash.startsWith('#project-')) {
                const projectName = decodeURIComponent(hash.replace('#project-', ''));
                const projectData = images.find(img => 
                    img.title.toLowerCase() === projectName.toLowerCase().replace(/-/g, ' ')
                );
                if (projectData) {
                    showProjectDetail(projectData);
                } else {
                    showGallery();
                }
            } else {
                showGallery();
            }

            // Handle all navigation links
            document.querySelectorAll('a[data-section]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.getAttribute('data-section');
                    
                    // Update active states
                    document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Handle navigation
                    if (section === 'works') {
                        showGallery();
                        history.pushState({}, '', '/');
                    } else if (section === 'projects') {
                        showProjectsPage();
                        history.pushState({}, '', '#projects');
                    }
                });
            });

            // Handle logo click
            document.getElementById('logo-link').addEventListener('click', function(e) {
                // Don't prevent default - allow normal navigation to intro.html
                // No need to call showGallery() or update history
            });

            // Handle back button
            document.getElementById('back-button').addEventListener('click', function(e) {
                e.preventDefault();
                const projectsHash = window.location.hash === '#projects';
                showGallery();
                document.getElementById('works-link').classList.add('active');
                document.getElementById('projects-link').classList.remove('active');
                history.pushState({}, '', projectsHash ? '#projects' : '/');
            });

            // Initialize project row click handlers
            const projectRows = document.querySelectorAll('.project-index-row');
            projectRows.forEach(row => {
                const projectTitle = row.querySelector('.project-title').textContent;
                row.addEventListener('click', function() {
                    const projectData = images.find(img => img.title === projectTitle);
                    if (projectData) {
                        showProjectDetail(projectData);
                        history.pushState(
                            {project: projectTitle}, 
                            projectTitle,
                            '#project-' + encodeURIComponent(projectTitle.toLowerCase())
                        );
                    }
                });
            });
        });

        // Handle browser back/forward navigation
        window.addEventListener('popstate', function(e) {
            const hash = window.location.hash;
            if (hash === '#projects') {
                showProjectsPage();
                document.getElementById('projects-link').classList.add('active');
                document.getElementById('works-link').classList.remove('active');
            } else if (hash.startsWith('#project-')) {
                const projectName = decodeURIComponent(hash.replace('#project-', ''));
                const projectData = images.find(img => 
                    img.title.toLowerCase() === projectName.toLowerCase().replace(/-/g, ' ')
                );
                if (projectData) {
                    showProjectDetail(projectData);
                    document.getElementById('works-link').classList.add('active');
                    document.getElementById('projects-link').classList.remove('active');
                } else {
                    showGallery();
                    document.getElementById('works-link').classList.add('active');
                    document.getElementById('projects-link').classList.remove('active');
                }
            } else {
                showGallery();
                document.getElementById('works-link').classList.add('active');
                document.getElementById('projects-link').classList.remove('active');
            }
        });
    </script>
</body>
</html>